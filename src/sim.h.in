#include "state.h"
#include "params.h"
#include <stdio.h>

#include "mod_meas.h"
#include "mod_hist.h"
#include "mod_modes.h"
#include "mod_spinstate.h"

#define DEC_PER_MEAS @DEC_PER_MEAS@
#define UPDATES_PER_MEAS @UPDATES_PER_MEAS@

#define MODULES \
    X(meas) \
    X(hist) \
    X(modes) \
    X(spinstate)

#define X(_) FILE *_;
typedef struct { MODULES } output_files_t;
#undef X

void run_sim(state_t *s,
             const params_t *p,
             unsigned int seed,
             int dec_warmup,
             int dec_max,
             const output_files_t *of);

